/**
 * NEXX GSM - Multilingual Translations
 * Languages: Ukrainian (uk), Romanian (ro)
 */

const translations = {
    uk: {
        // Navigation
        nav_services: "Послуги",
        nav_manager: "Менеджер",
        nav_gork: "GORK",
        nav_courses: "Курси",
        nav_calculator: "Калькулятор",
        nav_about: "Про Нас",
        nav_faq: "FAQ",
        nav_contact: "Контакти",
        
        // Hero Section
        hero_title: "Ремонт Телефонів та Ноутбуків у Бухаресті",
        hero_subtitle: "Діагностика під мікроскопом з трансляцією на екран. Більшість ремонтів — 30–60 хвилин. Персональний менеджер доступний 24/7 у Telegram. Фото/відеофіксація стану при прийомі та акт прийому/видачі.",
        btn_booking_short: "Записатися",
        btn_booking_primary: "Отримати безплатну консультацію",
        btn_learn_more: "Переглянути послуги",
        
        // Stats
        stat_30min: "30–60 хв",
        stat_30min_label: "Більшість ремонтів",
        stat_247: "24/7",
        stat_247_label: "Менеджер у Telegram",
        stat_30days: "30 днів",
        stat_30days_label: "Гарантія на роботу",
        stat_100: "100%",
        stat_100_label: "Фіксація стану",
        
        // Services Section
        services_title: "Що Ми Ремонтуємо",
        services_subtitle: "Телефони, ноутбуки, планшети, годинники. Діагностика під мікроскопом, оригінальні запчастини, документування всіх етапів.",
        
        service_repair_title: "Швидкий Ремонт Телефонів",
        service_repair_desc: "Заміна екрану, батареї, роз'ємів зарядки. Більшість ремонтів — 30–60 хвилин. Фото/відеофіксація стану до/після. Гарантія 30 днів на роботи.",
        
        service_diagnostics_title: "Діагностика & Тестування",
        service_diagnostics_desc: "Професійна діагностика під мікроскопом з трансляцією на екран для вас. Ви бачите всі проблеми вашого пристрою.",
        
        service_cleaning_title: "Чистка & Обслуговування",
        service_cleaning_desc: "Глибока чистка, видалення пилу, дезінфекція. Безлімітні чистки для підписників менеджера.",
        
        service_custom_title: "Кастомізація & Дизайн",
        service_custom_desc: "Захисні плівки з вашим дизайном чи фото. Індивідуальне оформлення приватно на плоттері. Відмінне для соціальних мереж!",
        
        service_tradein_title: "Trade-In & Перепродаж",
        service_tradein_desc: "Продаємо та купуємо б/у пристрої за справедливою ціною. Все оформляється юридично з актами та відео-фіксацією.",
        
        service_accessories_title: "Аксесуари & Запчастини",
        service_accessories_desc: "Якісні чохли, захисні плівки, оригінальні запчастини. Стекляні стенди з демонстраційними зразками.",
        
        // Manager Section
        manager_title: "Менеджер-Підписка для Техпідтримки 24/7",
        manager_subtitle: "Персональна підтримка та привілеї для вашої електроніки у Бухаресті",
        manager_price: "Персональний Менеджер - €9.99/місяць",
        manager_devices: "на 4 пристрої: телефон, ноутбук, планшет, смарт-годинник",
        manager_btn: "Почати Підписку Зараз",
        
        // GORK Section
        gork_title: "GORK Protect - Програма Захисту для Ноутбуків",
        gork_subtitle: "Безплатні привілеї при використанні захисного кейса NEXX GSM",
        
        // Courses Section
        courses_title: "Дитячі Технологічні Курси у NEXX GSM",
        courses_subtitle: "Розвивайте дитину в сучасному цифровому світі. Безплатні програми для клієнтів!",
        
        // Pricing Section
        pricing_title: "Тарифи та Підписки NEXX GSM",
        pricing_subtitle: "Оберіть оптимальний план для вашої електроніки",
        
        // Contact Section
        contact_title: "Зв'яжіться з нами",
        contact_subtitle: "Ми завжди раді допомогти вам",
        contact_address: "Адреса",
        contact_phone: "Телефон",
        contact_email: "Email",
        contact_working_hours: "Години роботи",
        contact_working_hours_value: "Пн-Пт: 09:00-19:00, Сб: 10:00-16:00",
        
        // Footer
        footer_about: "NEXX GSM",
        footer_about_desc: "Сучасний сервіс-центр по ремонту електроніки у Бухаресті. Ремонт телефонів, ноутбуків, планшетів та мобільної електроніки.",
        footer_services: "Послуги",
        footer_info: "Інформація",
        footer_contacts: "Контакти & Соцмережі",
        footer_copyright: "© 2026 NEXX GSM. Сервіс-центр електроніки у Бухаресті. Всі права захищені.",
        footer_privacy: "Політика приватності",
        footer_terms: "Умови використання",
        
        // Form Labels
        form_name: "Ім'я",
        form_phone: "Телефон",
        form_email: "Email",
        form_device: "Тип пристрою",
        form_problem: "Опис проблеми",
        form_date: "Дата прийому",
        form_message: "Повідомлення",
        form_submit: "Відправити",
        form_reset: "Очистити",
        
        // Notifications
        notif_booking_success: "✅ Дякуємо за запис! Ми зв'яжемося з вами найближчим часом.",
        notif_subscription_success: "✅ Дякуємо за підписку! Менеджер зв'яжеться з вами через Telegram/WhatsApp.",
        notif_contact_success: "✅ Дякуємо за повідомлення! Ми відповімо вам незабаром.",
        
        // Misc
        btn_close: "Закрити",
        btn_reset_calc: "Почати заново",
        btn_book_repair: "Записатися на ремонт"
    },
    
    ro: {
        // Navigation
        nav_services: "Servicii",
        nav_manager: "Manager",
        nav_gork: "GORK",
        nav_courses: "Cursuri",
        nav_calculator: "Calculator",
        nav_about: "Despre Noi",
        nav_faq: "Întrebări",
        nav_contact: "Contacte",
        
        // Hero Section
        hero_title: "Reparații Telefoane și Laptopuri în București",
        hero_subtitle: "Diagnosticare sub microscop cu transmisie pe ecran. Majoritatea reparațiilor: 30–60 minute. Manager personal 24/7 pe Telegram. Foto/video la primire și proces-verbal de predare-primire.",
        btn_booking_short: "Programare",
        btn_booking_primary: "Consultație gratuită",
        btn_learn_more: "Aflați mai multe",
        
        // Stats
        stat_30min: "30–60 min",
        stat_30min_label: "Majoritatea reparațiilor",
        stat_247: "24/7",
        stat_247_label: "Manager pe Telegram",
        stat_30days: "30 zile",
        stat_30days_label: "Garanție la lucru",
        stat_100: "100%",
        stat_100_label: "Fixare stare (foto/video)",
        
        // Services Section
        services_title: "Ce Reparăm",
        services_subtitle: "Telefoane, laptopuri, tablete, smartwatch. Diagnosticare sub microscop, piese originale, documentarea tuturor etapelor.",
        
        service_repair_title: "Reparații Rapide Telefoane",
        service_repair_desc: "Înlocuire display, baterie, restaurare funcționalitate. Ținta noastră - reparație în 30 minute. Specialiști calificați și echipament modern.",
        
        service_diagnostics_title: "Diagnosticare & Testare",
        service_diagnostics_desc: "Diagnosticare profesională sub microscop cu transmisie pe ecran pentru dvs. Vedeți toate problemele dispozitivului.",
        
        service_cleaning_title: "Curățare & Întreținere",
        service_cleaning_desc: "Curățare profundă, eliminare praf, dezinfectare. Curățări nelimitate pentru abonații manager.",
        
        service_custom_title: "Personalizare & Design",
        service_custom_desc: "Folii protective cu designul sau fotografia dvs. Decorare individuală privată pe plotter. Perfect pentru rețelele sociale!",
        
        service_tradein_title: "Trade-In & Revânzare",
        service_tradein_desc: "Vindem și cumpărăm dispozitive second-hand la prețuri corecte. Totul se formalizează juridic cu acte și înregistrare video.",
        
        service_accessories_title: "Accesorii & Piese",
        service_accessories_desc: "Huse de calitate, folii protective, piese originale. Standuri din sticlă cu mostre demonstrative.",
        
        // Manager Section
        manager_title: "Abonament Manager pentru Suport Tehnic 24/7",
        manager_subtitle: "Suport personalizat și privilegii pentru electronica dvs. în București",
        manager_price: "Manager Personal - €9.99/lună",
        manager_devices: "pentru 4 dispozitive: telefon, laptop, tabletă, smartwatch",
        manager_btn: "Începeți Abonamentul Acum",
        
        // GORK Section
        gork_title: "GORK Protect - Program Protecție pentru Laptopuri",
        gork_subtitle: "Privilegii gratuite când folosiți husa de protecție NEXX GSM",
        
        // Courses Section
        courses_title: "Cursuri Tehnologice pentru Copii la NEXX GSM",
        courses_subtitle: "Dezvoltați copilul în lumea digitală modernă. Programe gratuite pentru clienți!",
        
        // Pricing Section
        pricing_title: "Tarife și Abonamente NEXX GSM",
        pricing_subtitle: "Alegeți planul optim pentru electronica dvs.",
        
        // Contact Section
        contact_title: "Contactați-ne",
        contact_subtitle: "Suntem întotdeauna bucuroși să vă ajutăm",
        contact_address: "Adresă",
        contact_phone: "Telefon",
        contact_email: "Email",
        contact_working_hours: "Program de lucru",
        contact_working_hours_value: "Lun-Vin: 09:00-19:00, Sâm: 10:00-16:00",
        
        // Footer
        footer_about: "NEXX GSM",
        footer_about_desc: "Centru service modern pentru reparații electronică în București. Reparații telefoane, laptopuri, tablete și electronică mobilă.",
        footer_services: "Servicii",
        footer_info: "Informații",
        footer_contacts: "Contacte & Social Media",
        footer_copyright: "© 2026 NEXX GSM. Centru service electronică în București. Toate drepturile rezervate.",
        footer_privacy: "Politică de confidențialitate",
        footer_terms: "Termeni de utilizare",
        
        // Form Labels
        form_name: "Nume",
        form_phone: "Telefon",
        form_email: "Email",
        form_device: "Tip dispozitiv",
        form_problem: "Descriere problemă",
        form_date: "Data programării",
        form_message: "Mesaj",
        form_submit: "Trimite",
        form_reset: "Resetează",
        
        // Notifications
        notif_booking_success: "✅ Mulțumim pentru programare! Vă vom contacta în curând.",
        notif_subscription_success: "✅ Mulțumim pentru abonament! Managerul vă va contacta prin Telegram/WhatsApp.",
        notif_contact_success: "✅ Mulțumim pentru mesaj! Vă vom răspunde în curând.",
        
        // Misc
        btn_close: "Închide",
        btn_reset_calc: "Reîncepe",
        btn_book_repair: "Programează reparația"
    }
};

// Language switcher with improved error handling
function switchLanguage(lang) {
    if (!translations[lang]) {
        console.warn(`Language "${lang}" not found. Defaulting to Ukrainian.`);
        lang = 'uk';
    }
    
    const t = translations[lang];
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (t[key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = t[key];
            } else {
                el.textContent = t[key];
            }
        }
    });
    
    // Update HTML lang attribute
    document.documentElement.lang = lang === 'uk' ? 'uk' : 'ro';
    
    // Save language preference
    try {
        localStorage.setItem('preferred_lang', lang);
    } catch (e) {
        console.warn('LocalStorage not available:', e);
    }
    
    // Update active button states
    document.querySelectorAll('.lang-btn').forEach(btn => {
        const isActive = btn.dataset.lang === lang;
        btn.classList.toggle('active', isActive);
        btn.setAttribute('aria-pressed', isActive);
    });
    
    // Track language change in analytics
    if (typeof gtag === 'function') {
        gtag('event', 'language_change', {
            'event_category': 'engagement',
            'event_label': lang,
            'value': lang === 'uk' ? 1 : 2
        });
    }
    
    return lang;
}

// Get browser's preferred language
function getBrowserLanguage() {
    const browserLang = navigator.language || navigator.userLanguage;
    if (browserLang.startsWith('ro')) return 'ro';
    if (browserLang.startsWith('uk')) return 'uk';
    return 'uk'; // Default to Ukrainian
}

// Initialize language on page load
(function initLanguage() {
    const urlParams = new URLSearchParams(window.location.search);
    const urlLang = urlParams.get('lang');
    const savedLang = localStorage.getItem('preferred_lang');
    const browserLang = getBrowserLanguage();
    
    // Priority: URL param > localStorage > Browser > Default (uk)
    const initialLang = urlLang || savedLang || browserLang;
    
    // Wait for DOM to be ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => switchLanguage(initialLang));
    } else {
        switchLanguage(initialLang);
    }
})();

// Export for use in other scripts
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { translations, switchLanguage };
}



